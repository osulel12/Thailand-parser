# Thailand-parser

üóÇ –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–æ–∑–¥–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –æ–±—ä–µ–∫—Ç—ã:
* .env —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
* 25_apk.txt —Ñ–∞–π–ª —Ö—Ä–∞–Ω—è—â–∏–π –≤ —Å–µ–±–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –∫–æ–¥–æ–≤ —Å–≤—ã—à–µ 24 –ø–æ 4 –∑–Ω–∞–∫–∞ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
* json_bool_update_code.json —Ñ–∞–π–ª –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è, —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π —Å–ª–æ–≤–∞—Ä—è
  - "Update": false - –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–Ω–∞—á–µ–Ω–∏—è –±—É–¥–µ—Ç –∏–ª–∏ –Ω–µ –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—å—Å—è –∑–∞–≥—Ä—É–∑–∫–∞. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
  –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ *true* –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ—Ö –∫–æ–¥–æ–≤ —Ä–µ—Å—É—Ä—Å–∞
* tmp_thai_data.dp –≤—Ä–µ–º–µ–Ω–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö sqlite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–†–∞–±–æ—Ç—É –ø–æ —Å–±–æ—Ä—É –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ **main.py**. –ó–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –æ—Ç–≤–µ—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—è main –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π —Å–æ—Å—Ç–∞–≤–ª–µ–Ω—ã
—Å–ª–æ–≤–∞—Ä–∏:
* ```python
  dct_post_param = {'show_search': 1, 'tab': 'by_country', 'imex_type': 'import', 'year': 2023}
  ```
  –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –Ω–∞–±–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –Ω–∞ —Å–µ—Ä–≤–∏—Å. 
  - –° –ø–æ–º–æ—â—å—é –∫–ª—é—á–∞ *imex_type* –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–∏–ø —Å–∫–∞—á–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–∏–º–ø–æ—Ä—Ç –∏–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç)
  - –° –ø–æ–º–æ—â—å—é –∫–ª—é—á–∞ *year* –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –≥–æ–¥ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è

* ```python
  dct_table_name = {'table_point': os.getenv('TABLE_POINT'), 'data_thai_table': os.getenv('DATA_THAI_TABLE')}
  ```
  –•—Ä–∞–Ω–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü –≤ –ë–î
* ```python
  dct_rename_columns = {"COUNTRY.1": "partner_code",
                          "Quantity": "netweight",
                          f"{'FOB (Baht)' if dct_post_param['imex_type'] == 'export' else 'CIF (Baht)'}": "trade_value"}
  ```
  –°–ª–æ–≤–∞—Ä—å –¥–ª—è –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–ª–æ–Ω–æ–∫ 

‚è≤ –ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–≥—Ä—É–∑–∫–∏ 3000 –∫–æ–¥–æ–≤ –ø–æ –∫–∞–∂–¥–æ–º—É –º–µ—Å—è—Ü—É, –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–µ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç **8 —á–∞—Å–æ–≤**

## –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –∑–∞–≥—Ä—É–∑–∫–∞ –≤ –æ—Å–Ω–æ–≤–Ω—É—é –ë–î

–î–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ —Ñ–∞–π–ª–µ **load in db.ipynb**
–¢—É—Ç –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å **config_js_name_table_by_transform.json** –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥—É—Ç —Ä–∞–∑–º–µ—â–µ–Ω—ã –Ω–∞–∑–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü, —Å—Ö–µ–º –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö. 
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞:

```python
name_table = {'name_schema_main': '',
       'name_table_main': '',
       'name_schema_reference': '',
       'name_table_reference': '',
       'name_tb_country': '',
       'name_tb_tnved_code': '',
       'name_schema_dl': '',
       'name_table_dl': '',
       'sqlite_db': '',
       'name_tb_sqlite': ''}
```
–í—Å–µ —Ä–∞–∑–¥–µ–ª—ã –ø–æ–¥–ø–∏—Å–∞–Ω—ã –≤ —Ñ–∞–π–ª–µ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏—è.
–î–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã:
* –°–±–æ—Ä –∫—É—Ä—Å–∞ THB - —Å–æ–±–∏—Ä–∞–µ–º –∫—É—Ä—Å –≤–∞–ª—é—Ç—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏—è —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∫ –¥–æ–ª–ª–∞—Ä—É
* –°–±–æ—Ä —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –∏–∑–º–µ—Ä–µ–Ω–∏–π - –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è
* –°–ª–æ–≤–∞—Ä—å —Å—Ç—Ä–∞–Ω - –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å—Ç—Ä–∞–Ω –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤
* –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–∞ - –æ—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
* –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î 